@{
    Layout = null;
}
@model Inventory.Models.Account

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Login</title>
    <link href="~/Content/bootstrap.min.css" rel="stylesheet" />
    <link href="~/Content/Site.css" rel="stylesheet" />
    <script src="~/Scripts/bootstrap.min.js"></script>

    <script>
        var outMessage = "@ViewBag.Message";
        var RedirectUrl = "@Url.Action("Dashboard", "Home")";

        document.addEventListener("DOMContentLoaded", function () {
            if (outMessage != "") {
                if (outMessage == "Login Successful") {
                    setTimeout(function () {
                        window.location.href = RedirectUrl;
                    }, 2000);
                }
                document.getElementById('spanLoginMessage').innerHTML = outMessage;
            }
        });
    </script>

    <script>
        function validateInput() {
            if (document.getElementById('txtUserName').value == "" || document.getElementById('txtPassword').value == "") {
                alert("Please fill in all fields.");
                return false;
            }
            else {
                return true;
            }
        }
    </script>
</head>

<body>
    @using (Html.BeginForm("Login", "Auth", FormMethod.Post))
    {
        <div class="row" style="width:400px; height:400px; background:antiquewhite; position:fixed; margin:auto; left:0px; right:0px; top:0px; bottom:0px; padding:10px;">
            <center>
                <h2>Login</h2>

                <label for="basic-url" style="float:left">User Name</label>
                <div class="input-group mb-3">
                    @Html.TextBoxFor(m => m.Username, new { @class = "form-control", id = "txtUserName", style = "width:100%; max-width:100%" })
                </div>

                <label for="basic-url" style="float:left">Password</label>
                <div class="input-group mb-3">
                    @Html.TextBoxFor(m => m.Password, new { @class = "form-control", type = "password", id = "txtPassword", style = "width:100%; max-width:100%" })
                </div>
                <br />
                <input type="submit" class="btn btn-primary" value="login" style="width:100%; max-width:100%" onclick="return validateInput()" />
                <span id="spanLoginMessage"></span>
            </center>
        </div>
    }
</body>
</html>
